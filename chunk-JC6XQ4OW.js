import{b as Rr,c as Tr,d as Er,f as xr,g as Nr,i as Fr,j as Br}from"./chunk-TPTV2ZD3.js";import{a as kr,b as Vr}from"./chunk-DISQS2AL.js";import{b as Cr,f as Dr,i as le,l as Lr,m as qr,n as wr,o as Ir}from"./chunk-SWYTPDJM.js";import{$ as Wi,A as Fi,Ab as Qt,Ac as nr,Ad as Sr,Bc as or,Bd as Ar,C as be,Ca as Wt,D as Z,Db as Ae,Dc as De,E as Me,Fb as Zt,Fc as ei,Gb as Jt,Gc as Le,H as Vt,Ha as x,Ia as A,Ic as sr,J,Ka as jt,L as ki,La as U,Ma as Gi,Oa as zt,Oc as ur,Pa as Ui,Pb as j,Pc as qe,Qa as ae,Qc as lr,Rb as Qi,Rc as ue,Sc as dr,Tc as ti,U as ee,Ua as Kt,Ub as Zi,V as Oe,Va as N,Vb as Ji,Xb as er,Y as Vi,Yb as Ce,Zc as ii,_ as Bi,aa as ji,c as f,cb as O,cd as cr,d as Ti,da as Bt,db as C,dc as tr,dd as fr,e as ye,eb as Ht,ed as hr,f as Nt,fa as te,fd as we,g as Ft,ga as D,gd as pr,h as kt,ha as Pe,hd as mr,ia as zi,ib as Se,id as ri,ja as Ki,kd as _r,la as Hi,lb as W,lc as ir,ld as vr,m as Ei,ma as ie,mb as Gt,n as xi,na as re,nb as Xi,ob as $i,od as gr,pb as Yi,pd as yr,qb as Ut,qc as rr,r as Ni,rb as Xt,sb as ne,sd as br,tb as oe,td as Mr,ub as se,ud as Or,v as Q,vb as L,xb as $t,yc as ar,zb as Yt,zd as Pr}from"./chunk-TEFJURXD.js";var S=f(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.areaConversion=y.timeConversion=y.distanceConversion=y.altitudeKeys=y.latitudeKeys=y.longitudeKeys=y.MAXLON=y.MINLON=y.MAXLAT=y.MINLAT=y.earthRadius=y.sexagesimalPattern=void 0;var Mn=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/;y.sexagesimalPattern=Mn;var On=6378137;y.earthRadius=On;var Pn=-90;y.MINLAT=Pn;var Sn=90;y.MAXLAT=Sn;var An=-180;y.MINLON=An;var Cn=180;y.MAXLON=Cn;var Dn=["lng","lon","longitude",0];y.longitudeKeys=Dn;var Ln=["lat","latitude",1];y.latitudeKeys=Ln;var qn=["alt","altitude","elevation","elev",2];y.altitudeKeys=qn;var wn={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};y.distanceConversion=wn;var In={m:60,h:3600,d:86400};y.timeConversion=In;var T={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};y.areaConversion=T;T.sqm=T.m2;T.sqkm=T.km2;T.sqft=T.ft2;T.sqyd=T.yd2;T.sqin=T.in2});var de=f(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.default=void 0;var Rn=function(i,r){return r.reduce(function(t,a){if(typeof i>"u"||i===null)throw new Error("'".concat(i,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(i,a)&&typeof a<"u"&&typeof t>"u"?(t=a,a):t},void 0)},Tn=Rn;Ie.default=Tn});var ce=f(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.default=void 0;var En=function(i){var r=i.toString().trim();return isNaN(parseFloat(r))?!1:parseFloat(r)===Number(r)},xn=En;Re.default=xn});var fe=f(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.default=void 0;var Nn=S(),Fn=function(i){return Nn.sexagesimalPattern.test(i.toString().trim())},kn=Fn;Te.default=kn});var he=f(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.default=void 0;var Vn=S(),Bn=function(i){var r=new RegExp(Vn.sexagesimalPattern).exec(i.toString().trim());if(typeof r>"u"||r===null)throw new Error("Given value is not in sexagesimal format");var t=Number(r[2])/60||0,a=Number(r[4])/3600||0,n=parseFloat(r[1])+t+a;return["S","W"].includes(r[7])?-n:n},Wn=Bn;Ee.default=Wn});var Ne=f(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.default=void 0;var ai=S(),ni=jn(de());function jn(e){return e&&e.__esModule?e:{default:e}}function Wr(e,i){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,t)}return r}function zn(e){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?Wr(Object(r),!0).forEach(function(t){Kn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kn(e,i,r){return i in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r,e}var Hn=function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{longitude:ai.longitudeKeys,latitude:ai.latitudeKeys,altitude:ai.altitudeKeys},t=(0,ni.default)(i,r.longitude),a=(0,ni.default)(i,r.latitude),n=(0,ni.default)(i,r.altitude);return zn({latitude:a,longitude:t},n?{altitude:n}:{})},Gn=Hn;xe.default=Gn});var si=f(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=void 0;var Un=oi(ce()),Xn=oi(fe()),$n=oi(he()),jr=S();function oi(e){return e&&e.__esModule?e:{default:e}}var Yn=function e(i){return(0,Un.default)(i)?!(parseFloat(i)>jr.MAXLAT||i<jr.MINLAT):(0,Xn.default)(i)?e((0,$n.default)(i)):!1},Qn=Yn;Fe.default=Qn});var li=f(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.default=void 0;var Zn=ui(ce()),Jn=ui(fe()),eo=ui(he()),zr=S();function ui(e){return e&&e.__esModule?e:{default:e}}var to=function e(i){return(0,Zn.default)(i)?!(parseFloat(i)>zr.MAXLON||i<zr.MINLON):(0,Jn.default)(i)?e((0,eo.default)(i)):!1},io=to;ke.default=io});var ci=f(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.default=void 0;var ro=di(Ne()),Kr=di(si()),Hr=di(li());function di(e){return e&&e.__esModule?e:{default:e}}var ao=function(i){var r=(0,ro.default)(i),t=r.latitude,a=r.longitude;if(Array.isArray(i)&&i.length>=2)return(0,Hr.default)(i[0])&&(0,Kr.default)(i[1]);if(typeof t>"u"||typeof a>"u")return!1;var n=i[a],o=i[t];return!(typeof o>"u"||typeof n>"u"||(0,Kr.default)(o)===!1||(0,Hr.default)(n)===!1)},no=ao;Ve.default=no});var We=f(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var oo=pe(ce()),so=pe(fe()),uo=pe(he()),Gr=pe(ci()),lo=pe(Ne());function pe(e){return e&&e.__esModule?e:{default:e}}function Ur(e,i){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,t)}return r}function fi(e){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?Ur(Object(r),!0).forEach(function(t){hi(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hi(e,i,r){return i in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r,e}var co=function e(i){if((0,oo.default)(i))return Number(i);if((0,so.default)(i))return(0,uo.default)(i);if((0,Gr.default)(i)){var r=(0,lo.default)(i);return Array.isArray(i)?i.map(function(t,a){return[0,1].includes(a)?e(t):t}):fi(fi(fi({},i),r.latitude&&hi({},r.latitude,e(i[r.latitude]))),r.longitude&&hi({},r.longitude,e(i[r.longitude])))}return Array.isArray(i)?i.map(function(t){return(0,Gr.default)(t)?e(t):t}):i},fo=co;Be.default=fo});var q=f(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.default=void 0;var ho=S(),po=Xr(de()),mo=Xr(We());function Xr(e){return e&&e.__esModule?e:{default:e}}var _o=function(i,r){var t=(0,po.default)(i,ho.latitudeKeys);if(!(typeof t>"u"||t===null)){var a=i[t];return r===!0?a:(0,mo.default)(a)}},vo=_o;je.default=vo});var w=f(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.default=void 0;var go=S(),yo=$r(de()),bo=$r(We());function $r(e){return e&&e.__esModule?e:{default:e}}var Mo=function(i,r){var t=(0,yo.default)(i,go.longitudeKeys);if(!(typeof t>"u"||t===null)){var a=i[t];return r===!0?a:(0,bo.default)(a)}},Oo=Mo;ze.default=Oo});var F=f(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.default=void 0;var Po=function(i){return i*Math.PI/180},So=Po;Ke.default=So});var z=f(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.default=void 0;var Ao=function(i){return i*180/Math.PI},Co=Ao;He.default=Co});var Qr=f(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.default=void 0;var Do=Ge(q()),Lo=Ge(w()),pi=Ge(F()),mi=Ge(z()),Yr=S();function Ge(e){return e&&e.__esModule?e:{default:e}}var qo=function(i,r,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:6371e3,n=(0,Do.default)(i),o=(0,Lo.default)(i),s=r/a,u=(0,pi.default)(t),h=(0,pi.default)(n),d=(0,pi.default)(o),l=Math.asin(Math.sin(h)*Math.cos(s)+Math.cos(h)*Math.sin(s)*Math.cos(u)),c=d+Math.atan2(Math.sin(u)*Math.sin(s)*Math.cos(h),Math.cos(s)-Math.sin(h)*Math.sin(l)),v=(0,mi.default)(c);return(v<Yr.MINLON||v>Yr.MAXLON)&&(c=(c+3*Math.PI)%(2*Math.PI)-Math.PI,v=(0,mi.default)(c)),{latitude:(0,mi.default)(l),longitude:v}},wo=qo;Ue.default=wo});var Zr=f(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.default=void 0;var Io=S(),Ro=function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",t=Io.areaConversion[r];if(t)return i*t;throw new Error("Invalid unit used for area conversion.")},To=Ro;Xe.default=To});var Jr=f($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.default=void 0;var Eo=S(),xo=function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",t=Eo.distanceConversion[r];if(t)return i*t;throw new Error("Invalid unit used for distance conversion.")},No=xo;$e.default=No});var ea=f(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.default=void 0;var Ye=S(),Fo=function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"kmh";switch(r){case"kmh":return i*Ye.timeConversion.h*Ye.distanceConversion.km;case"mph":return i*Ye.timeConversion.h*Ye.distanceConversion.mi;default:return i}},ko=Fo;Qe.default=ko});var ra=f(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.default=void 0;function ta(e,i){return jo(e)||Wo(e,i)||Bo(e,i)||Vo()}function Vo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bo(e,i){if(e){if(typeof e=="string")return ia(e,i);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ia(e,i)}}function ia(e,i){(i==null||i>e.length)&&(i=e.length);for(var r=0,t=new Array(i);r<i;r++)t[r]=e[r];return t}function Wo(e,i){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],t=!0,a=!1,n=void 0;try{for(var o=e[Symbol.iterator](),s;!(t=(s=o.next()).done)&&(r.push(s.value),!(i&&r.length===i));t=!0);}catch(u){a=!0,n=u}finally{try{!t&&o.return!=null&&o.return()}finally{if(a)throw n}}return r}}function jo(e){if(Array.isArray(e))return e}var zo=function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,t=Math.pow(10,r);return Math.round(i*t)/t},Ko=function(i){var r=i.toString().split("."),t=ta(r,2),a=t[0],n=t[1],o=Math.abs(Number(a)),s=+("0."+(n||0))*60,u=s.toString().split("."),h=Math.floor(s),d=zo(+("0."+(u[1]||0))*60).toString(),l=d.split("."),c=ta(l,2),v=c[0],p=c[1],g=p===void 0?"0":p;return o+"\xB0 "+h.toString().padStart(2,"0")+"' "+v.padStart(2,"0")+"."+g.padEnd(1,"0")+'"'},Ho=Ko;Ze.default=Ho});var _i=f(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.default=void 0;var Go=function(i){return i>1?1:i<-1?-1:i},Uo=Go;Je.default=Uo});var B=f(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.default=void 0;var aa=et(q()),na=et(w()),X=et(F()),Xo=et(_i()),$o=S();function et(e){return e&&e.__esModule?e:{default:e}}var Yo=function(i,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;t=typeof t<"u"&&!isNaN(t)?t:1;var a=(0,aa.default)(i),n=(0,na.default)(i),o=(0,aa.default)(r),s=(0,na.default)(r),u=Math.acos((0,Xo.default)(Math.sin((0,X.default)(o))*Math.sin((0,X.default)(a))+Math.cos((0,X.default)(o))*Math.cos((0,X.default)(a))*Math.cos((0,X.default)(n)-(0,X.default)(s))))*$o.earthRadius;return Math.round(u/t)*t},Qo=Yo;tt.default=Qo});var vi=f(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.default=void 0;var oa=Zo(B());function Zo(e){return e&&e.__esModule?e:{default:e}}var Jo=function(i,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:oa.default;return t=typeof t=="function"?t:oa.default,r.slice().sort(function(a,n){return t(i,a)-t(i,n)})},es=Jo;it.default=es});var sa=f(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.default=void 0;var ts=is(vi());function is(e){return e&&e.__esModule?e:{default:e}}var rs=function(i,r){return(0,ts.default)(i,r)[0]},as=rs;rt.default=as});var da=f(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.default=void 0;var gi=yi(F()),ns=yi(q()),ua=yi(w()),la=S();function yi(e){return e&&e.__esModule?e:{default:e}}var os=function(i){var r=0;if(i.length>2){for(var t,a,n,o=0;o<i.length;o++){o===i.length-2?(t=i.length-2,a=i.length-1,n=0):o===i.length-1?(t=i.length-1,a=0,n=1):(t=o,a=o+1,n=o+2);var s=(0,ua.default)(i[t]),u=(0,ns.default)(i[a]),h=(0,ua.default)(i[n]);r+=((0,gi.default)(h)-(0,gi.default)(s))*Math.sin((0,gi.default)(u))}r=r*la.earthRadius*la.earthRadius/2}return Math.abs(r)},ss=os;at.default=ss});var bi=f(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.default=void 0;var us=ca(q()),ls=ca(w());function ca(e){return e&&e.__esModule?e:{default:e}}var ds=function(i){if(Array.isArray(i)===!1||i.length===0)throw new Error("No points were given.");return i.reduce(function(r,t){var a=(0,us.default)(t),n=(0,ls.default)(t);return{maxLat:Math.max(a,r.maxLat),minLat:Math.min(a,r.minLat),maxLng:Math.max(n,r.maxLng),minLng:Math.min(n,r.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},cs=ds;nt.default=cs});var fa=f(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.default=void 0;var fs=st(q()),hs=st(w()),$=st(F()),ot=st(z()),me=S();function st(e){return e&&e.__esModule?e:{default:e}}var ps=function(i,r){var t=(0,fs.default)(i),a=(0,hs.default)(i),n=(0,$.default)(t),o=(0,$.default)(a),s=r/me.earthRadius,u=n-s,h=n+s,d=(0,$.default)(me.MAXLAT),l=(0,$.default)(me.MINLAT),c=(0,$.default)(me.MAXLON),v=(0,$.default)(me.MINLON),p,g;if(u>l&&h<d){var b=Math.asin(Math.sin(s)/Math.cos(n));p=o-b,p<v&&(p+=Math.PI*2),g=o+b,g>c&&(g-=Math.PI*2)}else u=Math.max(u,l),h=Math.min(h,d),p=v,g=c;return[{latitude:(0,ot.default)(u),longitude:(0,ot.default)(p)},{latitude:(0,ot.default)(h),longitude:(0,ot.default)(g)}]},ms=ps;ut.default=ms});var ma=f(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.default=void 0;var _s=lt(q()),vs=lt(w()),ha=lt(F()),pa=lt(z());function lt(e){return e&&e.__esModule?e:{default:e}}var gs=function(i){if(Array.isArray(i)===!1||i.length===0)return!1;var r=i.length,t=i.reduce(function(s,u){var h=(0,ha.default)((0,_s.default)(u)),d=(0,ha.default)((0,vs.default)(u));return{X:s.X+Math.cos(h)*Math.cos(d),Y:s.Y+Math.cos(h)*Math.sin(d),Z:s.Z+Math.sin(h)}},{X:0,Y:0,Z:0}),a=t.X/r,n=t.Y/r,o=t.Z/r;return{longitude:(0,pa.default)(Math.atan2(n,a)),latitude:(0,pa.default)(Math.atan2(o,Math.sqrt(a*a+n*n)))}},ys=gs;dt.default=ys});var _a=f(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.default=void 0;var bs=Ms(bi());function Ms(e){return e&&e.__esModule?e:{default:e}}var Os=function(i){var r=(0,bs.default)(i),t=r.minLat+(r.maxLat-r.minLat)/2,a=r.minLng+(r.maxLng-r.minLng)/2;return{latitude:parseFloat(t.toFixed(6)),longitude:parseFloat(a.toFixed(6))}},Ps=Os;ct.default=Ps});var Mi=f(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.default=void 0;var va=ht(q()),ga=ht(w()),ft=ht(F()),Ss=ht(z());function ht(e){return e&&e.__esModule?e:{default:e}}var As=function(i,r){var t=(0,ft.default)((0,ga.default)(r))-(0,ft.default)((0,ga.default)(i)),a=Math.log(Math.tan((0,ft.default)((0,va.default)(r))/2+Math.PI/4)/Math.tan((0,ft.default)((0,va.default)(i))/2+Math.PI/4));return Math.abs(t)>Math.PI&&(t>0?t=(Math.PI*2-t)*-1:t=Math.PI*2+t),((0,Ss.default)(Math.atan2(t,a))+360)%360},Cs=As;pt.default=Cs});var ba=f(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.default=void 0;var ya=Ds(Mi());function Ds(e){return e&&e.__esModule?e:{default:e}}var Ls=function(i,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ya.default,a=typeof t=="function"?t(i,r):(0,ya.default)(i,r);if(isNaN(a))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(a/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},qs=Ls;mt.default=qs});var Pi=f(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.default=void 0;var Oi=Oa(B()),Ma=Oa(_i());function Oa(e){return e&&e.__esModule?e:{default:e}}var ws=function(i,r,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,n=(0,Oi.default)(r,i,a),o=(0,Oi.default)(i,t,a),s=(0,Oi.default)(r,t,a),u=Math.acos((0,Ma.default)((n*n+s*s-o*o)/(2*n*s))),h=Math.acos((0,Ma.default)((o*o+s*s-n*n)/(2*o*s)));return u>Math.PI/2?n:h>Math.PI/2?o:Math.sin(u)*n},Is=ws;_t.default=Is});var Aa=f(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.default=void 0;var Pa=vt(q()),Sa=vt(w()),k=vt(F()),Rs=vt(z());function vt(e){return e&&e.__esModule?e:{default:e}}var Ts=function(i,r){var t=(0,Pa.default)(r),a=(0,Sa.default)(r),n=(0,Pa.default)(i),o=(0,Sa.default)(i),s=((0,Rs.default)(Math.atan2(Math.sin((0,k.default)(a)-(0,k.default)(o))*Math.cos((0,k.default)(t)),Math.cos((0,k.default)(n))*Math.sin((0,k.default)(t))-Math.sin((0,k.default)(n))*Math.cos((0,k.default)(t))*Math.cos((0,k.default)(a)-(0,k.default)(o))))+360)%360;return s},Es=Ts;gt.default=Es});var Ca=f(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.default=void 0;var xs=Ns(B());function Ns(e){return e&&e.__esModule?e:{default:e}}function yt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yt=function(r){return typeof r}:yt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},yt(e)}var Fs=function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xs.default;return i.reduce(function(t,a){return yt(t)==="object"&&t.last!==null&&(t.distance+=r(a,t.last)),t.last=a,t},{last:null,distance:0}).distance},ks=Fs;bt.default=ks});var wa=f(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.default=void 0;var Da=Ai(q()),La=Ai(w()),Si=Ai(F()),qa=S();function Ai(e){return e&&e.__esModule?e:{default:e}}var Vs=function(i,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;t=typeof t<"u"&&!isNaN(t)?t:1;var a=(0,Da.default)(i),n=(0,La.default)(i),o=(0,Da.default)(r),s=(0,La.default)(r),u=6356752314245e-6,h=1/298.257223563,d=(0,Si.default)(s-n),l,c,v,p,g,b,M=Math.atan((1-h)*Math.tan((0,Si.default)(parseFloat(a)))),P=Math.atan((1-h)*Math.tan((0,Si.default)(parseFloat(o)))),R=Math.sin(M),H=Math.cos(M),ge=Math.sin(P),G=Math.cos(P),Y=d,Ii,Ri=100;do{var Rt=Math.sin(Y),Tt=Math.cos(Y);if(b=Math.sqrt(G*Rt*(G*Rt)+(H*ge-R*G*Tt)*(H*ge-R*G*Tt)),b===0)return 0;l=R*ge+H*G*Tt,c=Math.atan2(b,l),v=H*G*Rt/b,p=1-v*v,g=l-2*R*ge/p,isNaN(g)&&(g=0);var Et=h/16*p*(4+h*(4-3*p));Ii=Y,Y=d+(1-Et)*h*v*(c+Et*b*(g+Et*l*(-1+2*g*g)))}while(Math.abs(Y-Ii)>1e-12&&--Ri>0);if(Ri===0)return NaN;var V=p*(qa.earthRadius*qa.earthRadius-u*u)/(u*u),gn=1+V/16384*(4096+V*(-768+V*(320-175*V))),xt=V/1024*(256+V*(-128+V*(74-47*V))),yn=xt*b*(g+xt/4*(l*(-1+2*g*g)-xt/6*g*(-3+4*b*b)*(-3+4*g*g))),bn=u*gn*(c-yn);return Math.round(bn/t)*t},Bs=Vs;Mt.default=Bs});var Ia=f(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.default=void 0;var Ws=function(i){if(/^(NNE|NE|NNW|N)$/.test(i))return"N";if(/^(ENE|E|ESE|SE)$/.test(i))return"E";if(/^(SSE|S|SSW|SW)$/.test(i))return"S";if(/^(WSW|W|WNW|NW)$/.test(i))return"W"},js=Ws;Ot.default=js});var Ra=f(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.default=void 0;var zs=Ks(B());function Ks(e){return e&&e.__esModule?e:{default:e}}var Hs=function(i,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zs.default,a=t(i,r),n=Number(r.time)-Number(i.time),o=a/n*1e3;return o},Gs=Hs;Pt.default=Gs});var Ta=f(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.default=void 0;var Ci=Us(B());function Us(e){return e&&e.__esModule?e:{default:e}}var Xs=function(i,r,t){return(0,Ci.default)(r,i)+(0,Ci.default)(i,t)===(0,Ci.default)(r,t)},$s=Xs;St.default=$s});var xa=f(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.default=void 0;var At=Ea(q()),I=Ea(w());function Ea(e){return e&&e.__esModule?e:{default:e}}var Ys=function(i,r){for(var t=!1,a=r.length,n=-1,o=a-1;++n<a;o=n)((0,I.default)(r[n])<=(0,I.default)(i)&&(0,I.default)(i)<(0,I.default)(r[o])||(0,I.default)(r[o])<=(0,I.default)(i)&&(0,I.default)(i)<(0,I.default)(r[n]))&&(0,At.default)(i)<((0,At.default)(r[o])-(0,At.default)(r[n]))*((0,I.default)(i)-(0,I.default)(r[n]))/((0,I.default)(r[o])-(0,I.default)(r[n]))+(0,At.default)(r[n])&&(t=!t);return t},Qs=Ys;Ct.default=Qs});var Na=f(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.default=void 0;var Zs=Js(Pi());function Js(e){return e&&e.__esModule?e:{default:e}}var eu=function(i,r,t,a){return(0,Zs.default)(i,r,t)<a},tu=eu;Dt.default=tu});var Fa=f(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.default=void 0;var iu=ru(B());function ru(e){return e&&e.__esModule?e:{default:e}}var au=function(i,r,t){var a=.01;return(0,iu.default)(i,r,a)<t},nu=au;Lt.default=nu});var Va=f(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.default=void 0;function ou(e,i){return du(e)||lu(e,i)||uu(e,i)||su()}function su(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uu(e,i){if(e){if(typeof e=="string")return ka(e,i);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ka(e,i)}}function ka(e,i){(i==null||i>e.length)&&(i=e.length);for(var r=0,t=new Array(i);r<i;r++)t[r]=e[r];return t}function lu(e,i){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],t=!0,a=!1,n=void 0;try{for(var o=e[Symbol.iterator](),s;!(t=(s=o.next()).done)&&(r.push(s.value),!(i&&r.length===i));t=!0);}catch(u){a=!0,n=u}finally{try{!t&&o.return!=null&&o.return()}finally{if(a)throw n}}return r}}function du(e){if(Array.isArray(e))return e}var cu=function(i){if(!i.startsWith("POLYGON"))throw new Error("Invalid wkt.");var r=i.slice(i.indexOf("(")+2,i.indexOf(")")).split(", "),t=r.map(function(a){var n=a.split(" "),o=ou(n,2),s=o[0],u=o[1];return{longitude:parseFloat(s),latitude:parseFloat(u)}});return t},fu=cu;qt.default=fu});var Wa=f(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var hu={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(m,"computeDestinationPoint",{enumerable:!0,get:function(){return pu.default}});Object.defineProperty(m,"convertArea",{enumerable:!0,get:function(){return mu.default}});Object.defineProperty(m,"convertDistance",{enumerable:!0,get:function(){return _u.default}});Object.defineProperty(m,"convertSpeed",{enumerable:!0,get:function(){return vu.default}});Object.defineProperty(m,"decimalToSexagesimal",{enumerable:!0,get:function(){return gu.default}});Object.defineProperty(m,"findNearest",{enumerable:!0,get:function(){return yu.default}});Object.defineProperty(m,"getAreaOfPolygon",{enumerable:!0,get:function(){return bu.default}});Object.defineProperty(m,"getBounds",{enumerable:!0,get:function(){return Mu.default}});Object.defineProperty(m,"getBoundsOfDistance",{enumerable:!0,get:function(){return Ou.default}});Object.defineProperty(m,"getCenter",{enumerable:!0,get:function(){return Pu.default}});Object.defineProperty(m,"getCenterOfBounds",{enumerable:!0,get:function(){return Su.default}});Object.defineProperty(m,"getCompassDirection",{enumerable:!0,get:function(){return Au.default}});Object.defineProperty(m,"getCoordinateKey",{enumerable:!0,get:function(){return Cu.default}});Object.defineProperty(m,"getCoordinateKeys",{enumerable:!0,get:function(){return Du.default}});Object.defineProperty(m,"getDistance",{enumerable:!0,get:function(){return Lu.default}});Object.defineProperty(m,"getDistanceFromLine",{enumerable:!0,get:function(){return qu.default}});Object.defineProperty(m,"getGreatCircleBearing",{enumerable:!0,get:function(){return wu.default}});Object.defineProperty(m,"getLatitude",{enumerable:!0,get:function(){return Iu.default}});Object.defineProperty(m,"getLongitude",{enumerable:!0,get:function(){return Ru.default}});Object.defineProperty(m,"getPathLength",{enumerable:!0,get:function(){return Tu.default}});Object.defineProperty(m,"getPreciseDistance",{enumerable:!0,get:function(){return Eu.default}});Object.defineProperty(m,"getRhumbLineBearing",{enumerable:!0,get:function(){return xu.default}});Object.defineProperty(m,"getRoughCompassDirection",{enumerable:!0,get:function(){return Nu.default}});Object.defineProperty(m,"getSpeed",{enumerable:!0,get:function(){return Fu.default}});Object.defineProperty(m,"isDecimal",{enumerable:!0,get:function(){return ku.default}});Object.defineProperty(m,"isPointInLine",{enumerable:!0,get:function(){return Vu.default}});Object.defineProperty(m,"isPointInPolygon",{enumerable:!0,get:function(){return Bu.default}});Object.defineProperty(m,"isPointNearLine",{enumerable:!0,get:function(){return Wu.default}});Object.defineProperty(m,"isPointWithinRadius",{enumerable:!0,get:function(){return ju.default}});Object.defineProperty(m,"isSexagesimal",{enumerable:!0,get:function(){return zu.default}});Object.defineProperty(m,"isValidCoordinate",{enumerable:!0,get:function(){return Ku.default}});Object.defineProperty(m,"isValidLatitude",{enumerable:!0,get:function(){return Hu.default}});Object.defineProperty(m,"isValidLongitude",{enumerable:!0,get:function(){return Gu.default}});Object.defineProperty(m,"orderByDistance",{enumerable:!0,get:function(){return Uu.default}});Object.defineProperty(m,"sexagesimalToDecimal",{enumerable:!0,get:function(){return Xu.default}});Object.defineProperty(m,"toDecimal",{enumerable:!0,get:function(){return $u.default}});Object.defineProperty(m,"toRad",{enumerable:!0,get:function(){return Yu.default}});Object.defineProperty(m,"toDeg",{enumerable:!0,get:function(){return Qu.default}});Object.defineProperty(m,"wktToPolygon",{enumerable:!0,get:function(){return Zu.default}});var pu=_(Qr()),mu=_(Zr()),_u=_(Jr()),vu=_(ea()),gu=_(ra()),yu=_(sa()),bu=_(da()),Mu=_(bi()),Ou=_(fa()),Pu=_(ma()),Su=_(_a()),Au=_(ba()),Cu=_(de()),Du=_(Ne()),Lu=_(B()),qu=_(Pi()),wu=_(Aa()),Iu=_(q()),Ru=_(w()),Tu=_(Ca()),Eu=_(wa()),xu=_(Mi()),Nu=_(Ia()),Fu=_(Ra()),ku=_(ce()),Vu=_(Ta()),Bu=_(xa()),Wu=_(Na()),ju=_(Fa()),zu=_(fe()),Ku=_(ci()),Hu=_(si()),Gu=_(li()),Uu=_(vi()),Xu=_(he()),$u=_(We()),Yu=_(F()),Qu=_(z()),Zu=_(Va()),Ba=S();Object.keys(Ba).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(hu,e)||Object.defineProperty(m,e,{enumerable:!0,get:function(){return Ba[e]}})});function _(e){return e&&e.__esModule?e:{default:e}}});var Ka=f((yd,za)=>{"use strict";var Ju=Di();za.exports=ja;function ja(e){this.x=e.x,this.y=e.y,this.z=e.z}ja.prototype.toGeodetic=function(e){var i=this.z<0?-e.b:e.b,r=this.x,t=this.y,a=this.z,n=Math.sqr(r*r+t*t),o=(i*a-(e.a*e.a-i*i))/(e.a*n),s=(i*a+(e.a*e.a-i*i))/(e.a*n),u=4/3*(o*s+1),h=2*(o*o+s*s),d=u*u*u+h*h,l;d>0?l=Math.pow(Math.sqrt(d)-h,1/3)-Math.pow(Math.sqrt(d)+h,1/3):l=2*Math.sqrt(-u)*Math.cos(Math.acos(h/(u*Math.sqrt(-u)))/3),l*l<Math.abs(u)&&(l=-(l*l*l+2*h)/3*u);var c=(Math.sqrt(o*o+l)+o)/2,v=Math.sqrt(c*c+(s-l*c)/(2*c-o))-c,p=Math.atan(e.a*(1-v*v)/(2*i*v)),g=Math.atan2(t,r);g<0&&(g+=2*Math.PI);var b=(n-e.a*v)*Math.cos(p)+(a-i)*Math.sin(p),M=g*Math.PI/180;return M>180&&(M-=360),new Ju({lambda:M,phi:p*Math.PI/180,height_above_ellipsoid:b,ellipsoid:e})}});var Ga=f((bd,Ha)=>{"use strict";Ha.exports=el;function el(e,i){var r=Math.sin(Math.PI/180*e.phig),t;i<=16||1-Math.abs(r)<1e-10?t=tl(r,i):t=il(r,i),this.pcup=t.pcup,this.dpcup=t.dpcup}function tl(e,i){var r,t,a,n,o,s,u,h,d=[1],l=[1],c=[0];for(t=Math.sqrt((1-e)*(1+e)),h=(i+1)*(i+2)/2,a=1;a<=i;a++)for(n=0;n<=a;n++)o=a*(a+1)/2+n,a==n?(s=(a-1)*a/2+n-1,l[o]=t*l[s],c[o]=t*c[s]+e*l[s]):a==1&&n==0?(s=(a-1)*a/2+n,l[o]=e*l[s],c[o]=e*c[s]-t*l[s]):a>1&&a!=n&&(s=(a-2)*(a-1)/2+n,u=(a-1)*a/2+n,n>a-2?(l[o]=e*l[u],c[o]=e*c[u]-t*l[u]):(r=((a-1)*(a-1)-n*n)/((2*a-1)*(2*a-3)),l[o]=e*l[u]-r*l[s],c[o]=e*c[u]-t*l[u]-r*c[s]));for(a=1;a<=i;a++)for(o=a*(a+1)/2,s=(a-1)*a/2,d[o]=d[s]*(2*a-1)/a,n=1;n<=a;n++)o=a*(a+1)/2+n,s=a*(a+1)/2+n-1,d[o]=d[s]*Math.sqrt((a-n+1)*(n==1?2:1)/(a+n));for(a=1;a<=i;a++)for(n=0;n<=a;n++)o=a*(a+1)/2+n,l[o]*=d[o],c[o]*=-d[o];return{pcup:l,dpcup:c}}function il(e,i){if(Math.abs(e)==1)throw new Error("Error in PcupHigh: derivative cannot be calculated at poles");var r,t,a,n=(i+1)*(i+2)/2,o=[],s=[],u=[],h=1e-280;for(r=0;r<=2*i+1;++r)u[r]=Math.sqrt(r);for(a=2,r=0;r<=i;r++){for(a++,o[a]=(2*r-1)/r,s[a]=(r-1)/r,t=1;t<=r-2;t++)a++,o[a]=(2*r-1)/u[r+t]/u[r-t],s[a]=u[r-t-1]*u[r+t-1]/u[r+t]/u[r-t];a+=2}var d=Math.sqrt((1-e)*(1+e)),l,c=e,v=1,p=[1,c],g=[0,d];if(i==0)throw new Error("Error in PcupHigh: n_max must be greater than 0");for(a=1,r=2;r<=i;r++)a=a+r,l=o[a]*e*c-s[a]*v,p[a]=l,g[a]=r*(c-e*l)/d,v=c,c=l;for(var b=u[2]*h,M=1/h,P=0,t=1;t<=i-1;++t)for(M*=d,P=P+t+1,b=b*u[2*t+1]/u[2*t],p[P]=b*M/u[2*t+1],g[P]=-(t*e*p[P]/d),v=b/u[2*t+1],a=P+t+1,c=e*u[2*t+1]*v,p[a]=c*M,g[a]=(v*M*u[2*t+1]-e*(t+1)*p[a])/d,r=t+2;r<=i;++r)a=a+r,l=e*o[a]*c-s[a]*v,p[a]=l*M,g[a]=(u[r+t]*u[r-t]*c*M-r*e*p[a])/d,v=c,c=l;return M=M*d,P=P+t+1,b=b/u[2*i],p[P]=b*M,g[P]=-i*e*p[P]/d,{pcup:p,dpcup:g}}});var Xa=f((Md,Ua)=>{"use strict";var rl=Ka(),al=Ga();Ua.exports=_e;function _e(e){this.lambda=e.lambda,this.phig=e.phig,this.r=e.r}_e.prototype.toCartesian=function(){var e=this.phig*Math.PI/180,i=this.lambda*Math.PI/180;return new rl({x:this.r*cos(e)*cos(i),y:this.r*cos(e)*sin(i),z:this.r*sin(e)})};_e.prototype.toGeodetic=function(e){return this.toCartesian().toGeodetic(e)};_e.prototype.getHarmonicVariables=function(e,i){var r,t,a=Math.cos(Math.PI/180*this.lambda),n=Math.sin(Math.PI/180*this.lambda),o=[1,a],s=[0,n],u=[e.re/this.r*(e.re/this.r)];for(t=1;t<=i;t++)u[t]=u[t-1]*(e.re/this.r);for(r=2;r<=i;r++)o[r]=o[r-1]*a-s[r-1]*n,s[r]=o[r-1]*n+s[r-1]*a;return{relative_radius_power:u,cos_mlambda:o,sin_mlambda:s}};_e.prototype.getLegendreFunction=function(e){return new al(this,e)}});var Ya=f((Od,$a)=>{"use strict";$a.exports=nl;function nl(e){e=e||{a:6378.137,b:6356.7523142,fla:1/298.257223563,re:6371.2},this.a=e.a,this.b=e.b,this.fla=e.fla,this.re=e.re,this.eps=Math.sqrt(1-this.b*this.b/(this.a*this.a)),this.epssq=this.eps*this.eps}});var Di=f((Pd,Qa)=>{"use strict";var ol=Xa(),sl=Ya();Qa.exports=wt;function wt(e){this.options=e,this.lambda=e.lambda||e.lon,this.phi=e.phi||e.lat,this.height_above_ellipsoid=e.height_above_ellipsoid||0,this.ellipsoid=e.ellipsoid||new sl}wt.prototype.toSpherical=function(){var e=this.ellipsoid,i=Math.cos(this.phi*Math.PI/180),r=Math.sin(this.phi*Math.PI/180),t=e.a/Math.sqrt(1-e.epssq*r*r),a=(t+this.height_above_ellipsoid)*i,n=(t*(1-e.epssq)+this.height_above_ellipsoid)*r,o=Math.sqrt(a*a+n*n);return new ol({r:o,phig:180/Math.PI*Math.asin(n/o),lambda:this.lambda})};wt.prototype.clone=function(){return new wt(this.options)}});var Ja=f((Sd,Za)=>{"use strict";Za.exports=E;function E(e){this.x=e.x,this.y=e.y,this.z=e.z,this.h=e.h,this.f=e.f,this.incl=e.incl,this.decl=e.decl,this.gv=e.gv,this.xdot=e.xdot,this.ydot=e.ydot,this.zdot=e.zdot,this.hdot=e.hdot,this.fdot=e.fdot,this.incldot=e.incldot,this.decldot=e.decldot,this.gvdot=e.gvdot}E.prototype.clone=function(){return new E(this)};E.prototype.scale=function(e){return new E({x:this.x*e,y:this.y*e,z:this.z*e,h:this.h*e,f:this.f*e,incl:this.incl*e,decl:this.decl*e,gv:this.gv*e,xdot:this.xdot*e,ydot:this.ydot*e,zdot:this.zdot*e,hdot:this.hdot*e,fdot:this.fdot*e,incldot:this.incldot*e,decldot:this.decldot*e,gvdot:this.gvdot*e})};E.prototype.subtract=function(e){return new E({x:this.x-e.x,y:this.y-e.y,z:this.z-e.z,h:this.h-e.h,f:this.f-e.f,incl:this.incl-e.incl,decl:this.decl-e.decl,gv:this.gv-e.gv,xdot:this.xdot-e.xdot,ydot:this.ydot-e.ydot,zdot:this.zdot-e.zdot,hdot:this.hdot-e.hdot,fdot:this.fdot-e.fdot,incldot:this.incldot-e.incldot,decldot:this.decldot-e.decldot,gvdot:this.gvdot-e.gvdot})};E.fromGeoMagneticVector=function(e){var i=e.bx,r=e.by,t=e.bz,a=Math.sqrt(i*i+r*r);return new E({x:i,y:r,z:t,h:a,f:Math.sqrt(a*a+t*t),decl:180/Math.PI*Math.atan2(r,i),incl:180/Math.PI*Math.atan2(t,a)})};E.fromSecularVariationVector=function(e){var i=e.bx,r=e.by,t=e.bz;return new E({xdot:i,ydot:r,zdot:t,hdot:(this.x*i+this.y*r)/this.h,fdot:(this.x*i+this.y*r+this.z*t)/this.f,decldot:180/Math.PI*(this.x*this.ydot-this.y*this.xdot)/(this.h*this.h),incldot:180/Math.PI*(this.h*this.zdot-this.z*this.hdot)/(this.f*this.f),gvdot:this.decldot})}});var tn=f((Ad,en)=>{"use strict";en.exports=Li;function Li(e){this.bx=e.bx,this.by=e.by,this.bz=e.bz}Li.prototype.rotate=function(e,i){var r=Math.PI/180*(e.phig-i.phi);return new Li({bz:this.bx*Math.sin(r)+this.bz*Math.cos(r),bx:this.bx*Math.cos(r)-this.bz*Math.sin(r),by:this.by})}});var an=f((Cd,rn)=>{"use strict";var ul=Di(),ll=Ja(),dl=tn();rn.exports=ve;function ve(e){this.epoch=e.epoch,this.start_date=new Date(e.start_date),this.end_date=new Date(e.end_date),this.name=e.name||"",this.main_field_coeff_g=e.main_field_coeff_g||[0],this.main_field_coeff_h=e.main_field_coeff_h||[0],this.secular_var_coeff_g=e.secular_var_coeff_g||[0],this.secular_var_coeff_h=e.secular_var_coeff_h||[0],this.n_max=e.n_max||0,this.n_max_sec_var=e.n_max_sec_var||0,this.num_terms=this.n_max*(this.n_max+1)/2+this.n_max}ve.prototype.getTimedModel=function(e){var i=e.getUTCFullYear(),r=(e.valueOf()-Date.UTC(i))/(1e3*3600*24*365),t=i+r,a=t-this.epoch;if(e<this.start_date||e>this.end_date)throw new RangeError("Model is only valid from "+this.start_date.toDateString()+" to "+this.end_date.toDateString());for(var n=new ve({epoch:this.epoch,n_max:this.n_max,n_max_sec_var:this.n_max_sec_var,name:this.name}),o=n.n_max_sec_var,s=o*(o+1)/2+o,u=1;u<=this.n_max;u++)for(var h=0;h<=u;h++){var d=u*(u+1)/2+h,l=this.main_field_coeff_h[d],c=this.main_field_coeff_g[d],v=this.secular_var_coeff_h[d],p=this.secular_var_coeff_g[d];d<=s?(n.main_field_coeff_h[d]=l+a*v,n.main_field_coeff_g[d]=c+a*p,n.secular_var_coeff_h[d]=v,n.secular_var_coeff_g[d]=p):(n.main_field_coeff_h[d]=l,n.main_field_coeff_g[d]=c)}return n};ve.prototype.getSummation=function(e,i,r){var t=0,a=0,n=0,o,s,u,h,d=i.relative_radius_power,l=i.cos_mlambda,c=i.sin_mlambda,v=this.main_field_coeff_g,p=this.main_field_coeff_h;for(o=1;o<=this.n_max;o++)for(s=0;s<=o;s++)u=o*(o+1)/2+s,n-=d[o]*(v[u]*l[s]+p[u]*c[s])*(o+1)*e.pcup[u],a+=d[o]*(v[u]*c[s]-p[u]*l[s])*s*e.pcup[u],t-=d[o]*(v[u]*l[s]+p[u]*c[s])*e.dpcup[u];var g=Math.cos(Math.PI/180*r.phig);if(Math.abs(g)>1e-10)a=a/g;else{a=0;var b=1,M,P,R=[1],H=Math.sin(Math.PI/180*r.phig);for(o=1;o<=this.n_max;o++)u=o*(o+1)/2+1,M=b*(2*o-1)/o,P=M*Math.sqrt(2*o/(o+1)),b=M,o==1?R[o]=R[o-1]:(h=((o-1)*(o-1)-1)/((2*o-1)*(2*o-3)),R[o]=H*R[o-1]-h*R[o-2]),a+=d[o]*(v[u]*c[1]-p[u]*l[1])*R[o]*P}return new dl({bx:t,by:a,bz:n})};ve.prototype.point=function(e){var i=new ul({lat:e[0],lon:e[1]}),r=i.toSpherical(),t=r.getLegendreFunction(this.n_max),a=r.getHarmonicVariables(i.ellipsoid,this.n_max),n=this.getSummation(t,a,r),o=n.rotate(r,i);return ll.fromGeoMagneticVector(o)}});var nn=f((Dd,cl)=>{cl.exports={main_field_coeff_g:[0,-29438.2,-1493.5,-2444.5,3014.7,1679,1351.8,-2351.6,1223.6,582.3,907.5,814.8,117.8,-335.6,69.7,-232.9,360.1,191.7,-141.3,-157.2,7.7,69.4,67.7,72.3,-129.1,-28.4,13.6,-70.3,81.7,-75.9,-7.1,52.2,15,9.1,-3,5.9,24.2,8.9,-16.9,-3.1,-20.7,13.3,11.6,-16.3,-2.1,5.5,8.8,3,-3.2,.6,-13.2,-.1,8.7,-9.1,-10.4,-2,-6.1,.2,.6,-.5,1.8,-.7,2.2,2.4,-1.8,-3.6,3,-1.4,-2.3,2.1,-.8,.6,-.7,.1,1.7,-.2,.4,3.5,-2,-.1,.5,1.2,-.9,.9,.1,.6,-.4,-.5,.2,-.9,0],main_field_coeff_h:[0,0,4796.3,0,-2842.4,-638.8,0,-113.7,246.5,-537.4,0,283.3,-188.6,180.7,-330,0,46.9,196.5,-119.9,16,100.6,0,-20.1,32.8,59.1,-67.1,8.1,61.9,0,-54.3,-19.5,6,24.5,3.5,-27.7,-2.9,0,10.1,-18.3,13.3,-14.5,16.2,6,-9.2,2.4,0,-21.8,10.7,11.8,-6.8,-6.9,7.9,1,-3.9,8.5,0,3.3,-.4,4.6,4.4,-7.9,-.6,-4.2,-2.9,-1.1,-8.8,0,0,2.1,-.6,-1.1,.7,-.2,-2.1,-1.5,-2.6,-2,-2.3,0,-1,.3,1.8,-2.2,.3,.7,-.1,.3,.2,-.9,-.2,.8],secular_var_coeff_g:[0,7,9,-11,-6.2,.3,2.4,-5.7,2,-11,-.8,-.9,-6.5,5.2,-4,-.3,.6,-.8,.1,1.2,1.4,-.8,-.5,-.1,1.6,-1.6,0,1.2,-.3,-.2,-.3,.9,.1,-.6,-.9,.7,-.1,.2,-.2,.5,-.1,.4,.4,-.1,.4,-.1,-.1,0,.4,-.4,0,.3,0,0,-.3,0,0,-.1,.2,-.1,-.2,0,-.1,-.2,-.1,0,0,0,0,0,0,-.1,0,0,0,-.1,0,-.1,0,0,0,0,-.1,0,0,0,0,0,0,0,-.1],secular_var_coeff_h:[0,0,-30.2,0,-29.6,-17.3,0,6.5,-.8,-2,0,-.4,5.8,3.8,-3.5,0,.2,2.3,0,3.3,-.6,0,.3,-1.5,-1.2,.4,.2,1.3,0,.6,.5,-.8,-.2,-1.1,.1,.2,0,-.4,.6,-.1,.6,-.2,-.5,.5,.1,0,-.3,.1,-.4,.3,.1,0,-.1,.5,.2,0,0,.1,-.2,.1,-.1,.1,0,-.1,.2,0,0,0,.1,0,.1,0,0,.1,0,-.1,0,-.1,0,0,0,-.1,.1,0,0,0,0,0,0,0,-.1],n_max:12,n_max_sec_var:12,epoch:2015,name:"WMM-2015v2",start_date:"2018-09-18T06:00:00.000Z",end_date:"2023-09-18T06:00:00.000Z"}});var on=f((Ld,fl)=>{fl.exports={main_field_coeff_g:[0,-29438.5,-1501.1,-2445.3,3012.5,1676.6,1351.1,-2352.3,1225.6,581.9,907.2,813.7,120.3,-335,70.3,-232.6,360.1,192.4,-141,-157.4,4.3,69.5,67.4,72.8,-129.8,-29,13.2,-70.9,81.6,-76.1,-6.8,51.9,15,9.3,-2.8,6.7,24,8.6,-16.9,-3.2,-20.6,13.3,11.7,-16,-2,5.4,8.8,3.1,-3.1,.6,-13.3,-.1,8.7,-9.1,-10.5,-1.9,-6.5,.2,.6,-.6,1.7,-.7,2.1,2.3,-1.8,-3.6,3.1,-1.5,-2.3,2.1,-.9,.6,-.7,.2,1.7,-.2,.4,3.5,-2,-.3,.4,1.3,-.9,.9,.1,.5,-.4,-.4,.2,-.9,0],main_field_coeff_h:[0,0,4796.2,0,-2845.6,-642,0,-115.3,245,-538.3,0,283.4,-188.6,180.9,-329.5,0,47.4,196.9,-119.4,16.1,100.1,0,-20.7,33.2,58.8,-66.5,7.3,62.5,0,-54.1,-19.4,5.6,24.4,3.3,-27.5,-2.3,0,10.2,-18.1,13.2,-14.6,16.2,5.7,-9.1,2.2,0,-21.6,10.8,11.7,-6.8,-6.9,7.8,1,-3.9,8.5,0,3.3,-.3,4.6,4.4,-7.9,-.6,-4.1,-2.8,-1.1,-8.7,0,-.1,2.1,-.7,-1.1,.7,-.2,-2.1,-1.5,-2.5,-2,-2.3,0,-1,.5,1.8,-2.2,.3,.7,-.1,.3,.2,-.9,-.2,.7],secular_var_coeff_g:[0,10.7,17.9,-8.6,-3.3,2.4,3.1,-6.2,-.4,-10.4,-.4,.8,-9.2,4,-4.2,-.2,.1,-1.4,0,1.3,3.8,-.5,-.2,-.6,2.4,-1.1,.3,1.5,.2,-.2,-.4,1.3,.2,-.4,-.9,.3,0,.1,-.5,.5,-.2,.4,.2,-.4,.3,0,-.1,-.1,.4,-.5,-.2,.1,0,-.2,-.1,0,0,-.1,.3,-.1,-.1,-.1,0,-.2,-.1,-.2,0,0,-.1,.1,0,0,0,0,0,0,-.1,-.1,.1,0,0,.1,-.1,0,.1,0,0,0,0,0,0],secular_var_coeff_h:[0,0,-26.8,0,-27.1,-13.3,0,8.4,-.4,2.3,0,-.6,5.3,3,-5.3,0,.4,1.6,-1.1,3.3,.1,0,0,-2.2,-.7,.1,1,1.3,0,.7,.5,-.2,-.1,-.7,.1,.1,0,-.3,.3,.3,.6,-.1,-.2,.3,0,0,-.2,-.1,-.2,.1,.1,0,-.2,.4,.3,0,.1,-.1,0,0,-.2,.1,-.1,-.2,.1,-.1,0,0,.1,0,.1,0,0,.1,0,-.1,0,-.1,0,0,0,-.1,0,0,0,0,0,0,0,0,0],n_max:12,n_max_sec_var:12,epoch:2015,name:"WMM-2015",start_date:"2014-12-15T07:00:00.000Z",end_date:"2019-12-15T07:00:00.000Z"}});var un=f((qd,sn)=>{"use strict";var hl=an(),pl=sn.exports={},K=null,ml=[nn(),on()];pl.model=function(e){e=e||new Date,K||(K=ml.map(function(n){return new hl(n)}));for(var i=e.getTime(),r,t=0,a=K.length;t<a;++t)if(!(K[t].start_date.getTime()>i)&&!(K[t].end_date.getTime()<i)){r=K[t];break}return r||(r=K[0]),r.getTimedModel(e)}});var It=Ti(Wa()),dn=Ti(un());var cn=(()=>{let i=class i{calculateDistance(t,a){return It.getDistance(t,a)}calculateMagneticHeading(t,a){let n=It.getRhumbLineBearing(t,a),o=Math.abs(dn.model(new Date("09/18/2023")).point([t.latitude,t.longitude]).decl),s=n+o;return s>360?Math.round(s-360):n+o}};i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Wi({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var yl=["panel"];function bl(e,i){if(e&1){let r=Se();O(0,"div",0,1),W("@panelAnimation.done",function(a){ie(r);let n=Gt();return re(n._animationDone.next(a))}),$i(2),C()}if(e&2){let r=i.id,t=Gt();N("id",t.id)("ngClass",t._classList)("@panelAnimation",t.isOpen?"visible":"hidden"),Kt("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby(r))}}var Ml=["*"],Ol=ur("panelAnimation",[dr("void, hidden",ue({opacity:0,transform:"scaleY(0.8)"})),ti(":enter, hidden => visible",[lr([qe("0.03s linear",ue({opacity:1})),qe("0.12s cubic-bezier(0, 0, 0.2, 1)",ue({transform:"scaleY(1)"}))])]),ti(":leave, visible => hidden",[qe("0.075s linear",ue({opacity:0}))])]),Pl=0,qi=class{constructor(i,r){this.source=i,this.option=r}},pn=new Bt("mat-autocomplete-default-options",{providedIn:"root",factory:Sl});function Sl(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var mn=(()=>{let i=class i{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._setThemeClasses(this._classList)}set classList(t){t&&t.length?this._classList=ar(t).reduce((a,n)=>(a[n]=!0,a),{}):this._classList={},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,a,n,o){this._changeDetectorRef=t,this._elementRef=a,this._defaults=n,this._activeOptionChanges=kt.EMPTY,this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new U,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new U,this.opened=new U,this.closed=new U,this.optionActivated=new U,this._classList={},this.id=`mat-autocomplete-${Pl++}`,this.inertGroups=o?.SAFARI||!1,this.autoActiveFirstOption=!!n.autoActiveFirstOption,this.autoSelectActiveOption=!!n.autoSelectActiveOption,this.requireSelection=!!n.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new sr(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){let a=new qi(this,t);this.optionSelected.emit(a)}_getPanelAriaLabelledby(t){if(this.ariaLabel)return null;let a=t?t+" ":"";return this.ariaLabelledby?a+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}_setThemeClasses(t){t["mat-primary"]=this._color==="primary",t["mat-warn"]=this._color==="warn",t["mat-accent"]=this._color==="accent"}_skipPredicate(){return!1}};i.\u0275fac=function(a){return new(a||i)(A(jt),A(Wt),A(pn),A(ir))},i.\u0275cmp=Pe({type:i,selectors:[["mat-autocomplete"]],contentQueries:function(a,n,o){if(a&1&&(Ut(o,we,5),Ut(o,fr,5)),a&2){let s;ne(s=oe())&&(n.options=s),ne(s=oe())&&(n.optionGroups=s)}},viewQuery:function(a,n){if(a&1&&(Xt(Yi,7),Xt(yl,5)),a&2){let o;ne(o=oe())&&(n.template=o.first),ne(o=oe())&&(n.panel=o.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[D.None,"aria-label","ariaLabel"],ariaLabelledby:[D.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[D.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",j],autoSelectActiveOption:[D.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",j],requireSelection:[D.HasDecoratorInputTransform,"requireSelection","requireSelection",j],panelWidth:"panelWidth",disableRipple:[D.HasDecoratorInputTransform,"disableRipple","disableRipple",j],classList:[D.None,"class","classList"],hideSingleSelectionIndicator:[D.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",j]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[Qt([{provide:cr,useExisting:i}]),zt,Ae],ngContentSelectors:Ml,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(a,n){a&1&&(Xi(),ae(0,bl,3,5,"ng-template"))},dependencies:[Zi],styles:["div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Ol]},changeDetection:0});let e=i;return e})();var Al={provide:_r,useExisting:Bi(()=>wi),multi:!0};var _n=new Bt("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let e=te(le);return()=>e.scrollStrategies.reposition()}});function Cl(e){return()=>e.scrollStrategies.reposition()}var Dl={provide:_n,deps:[le],useFactory:Cl},wi=(()=>{let i=class i{constructor(t,a,n,o,s,u,h,d,l,c,v){this._element=t,this._overlay=a,this._viewContainerRef=n,this._zone=o,this._changeDetectorRef=s,this._dir=h,this._formField=d,this._document=l,this._viewportRuler=c,this._defaults=v,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=kt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Ei,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Fi(()=>{let p=this.autocomplete?this.autocomplete.options:null;return p?p.changes.pipe(ee(p),Oe(()=>Z(...p.map(g=>g.onSelectionChange)))):this._zone.onStable.pipe(J(1),Oe(()=>this.optionSelections))}),this._handlePanelKeydown=p=>{(p.keyCode===27&&!De(p)||p.keyCode===38&&De(p,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),p.stopPropagation(),p.preventDefault())},this._trackedModal=null,this._scrollStrategy=u}ngAfterViewInit(){let t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){if(this._attachOverlay(),this._floatLabel(),this._trackedModal){let t=this.autocomplete.id;ei(this._trackedModal,"aria-owns",t)}}closePanel(){if(this._resetLabel(),!!this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)){let t=this.autocomplete.id;Le(this._trackedModal,"aria-owns",t)}}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Z(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Me(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Me(()=>this._overlayAttached)):Ni()).pipe(Q(t=>t instanceof hr?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Z(be(this._document,"click"),be(this._document,"auxclick"),be(this._document,"touchend")).pipe(Me(t=>{let a=rr(t),n=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&a!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!n||!n.contains(a))&&(!o||!o.contains(a))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(a)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){let a=t.keyCode,n=De(t);if(a===27&&!n&&t.preventDefault(),this.activeOption&&a===13&&this.panelOpen&&!n)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){let o=this.autocomplete._keyManager.activeItem,s=a===38||a===40;a===9||s&&!n&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this.openPanel(),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let a=t.target,n=a.value;if(a.type==="number"&&(n=n==""?null:parseFloat(n)),this._previousValue!==n){if(this._previousValue=n,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(n),!n)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let o=this.autocomplete.options?.find(s=>s.selected);if(o){let s=this.autocomplete.displayWith?.(o)??o.value;n!==s&&o.deselect(!1)}}this._canOpen()&&this._document.activeElement===t.target&&this.openPanel()}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&this._formField.floatLabel==="auto"&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let t=this._zone.onStable.pipe(J(1)),a=this.autocomplete.options.changes.pipe(Vi(()=>this._positionStrategy.reapplyLastPosition()),ki(0));return Z(t,a).pipe(Oe(()=>(this._zone.run(()=>{let n=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),n!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),J(1)).subscribe(n=>this._setValueAndClose(n))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(t){let a=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t;t==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(a??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){let a=this.autocomplete,n=t?t.source:this._pendingAutoselectedOption;n?(this._clearPreviousSelectedOption(n),this._assignOptionValue(n.value),this._onChange(n.value),a._emitSelectEvent(n),this._element.nativeElement.focus()):a.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),a._animationDone?a._animationDone.pipe(J(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,a){this.autocomplete?.options?.forEach(n=>{n!==t&&n.selected&&n.deselect(a)})}_attachOverlay(){this.autocomplete;let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new Cr(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._valueOnAttach=this._element.nativeElement.value,this._closingActionsSubscription=this._subscribeToClosingActions());let a=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&a!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Dr({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){let a=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}],s;this.position==="above"?s=o:this.position==="below"?s=a:s=[...a,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let t=this.autocomplete;if(t.autoActiveFirstOption){let a=-1;for(let n=0;n<t.options.length;n++)if(!t.options.get(n).disabled){a=n;break}t._keyManager.setActiveItem(a)}else t._keyManager.setActiveItem(-1)}_canOpen(){let t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){let a=this.autocomplete,n=pr(t,a.options,a.optionGroups);if(t===0&&n===1)a._setScrollTop(0);else if(a.panel){let o=a.options.toArray()[t];if(o){let s=o._getHostElement(),u=mr(s.offsetTop,s.offsetHeight,a._getScrollTop(),a.panel.nativeElement.offsetHeight);a._setScrollTop(u)}}}_applyModalPanelOwnership(){let t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let a=this.autocomplete.id;this._trackedModal&&Le(this._trackedModal,"aria-owns",a),ei(t,"aria-owns",a),this._trackedModal=t}_clearFromModal(){if(this._trackedModal){let t=this.autocomplete.id;Le(this._trackedModal,"aria-owns",t),this._trackedModal=null}}};i.\u0275fac=function(a){return new(a||i)(A(Wt),A(le),A(Ui),A(Gi),A(jt),A(_n),A(tr,8),A(Tr,9),A(Qi,8),A(nr),A(pn,8))},i.\u0275dir=Ki({type:i,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(a,n){a&1&&W("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(s){return n._handleInput(s)})("keydown",function(s){return n._handleKeydown(s)})("click",function(){return n._handleClick()}),a&2&&Kt("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-controls",n.autocompleteDisabled||!n.panelOpen||n.autocomplete==null?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[D.None,"matAutocomplete","autocomplete"],position:[D.None,"matAutocompletePosition","position"],connectedTo:[D.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[D.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[D.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",j]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[Qt([Al]),zt,Hi]});let e=i;return e})(),vn=(()=>{let i=class i{};i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=zi({type:i}),i.\u0275inj=ji({providers:[Dl],imports:[Lr,ri,ii,Ce,or,ri,ii]});let e=i;return e})();function ql(e,i){if(e&1&&(O(0,"mat-option",14)(1,"span"),L(2),C()()),e&2){let r=i.$implicit;N("value",r.CodigoOACI),x(2),Yt("",r.CodigoOACI," - ",r.Municipio,"/",r.UF,"")}}function wl(e,i){if(e&1&&(O(0,"mat-option",14)(1,"span"),L(2),C()()),e&2){let r=i.$implicit;N("value",r.CodigoOACI),x(2),Yt("",r.CodigoOACI," - ",r.Municipio,"/",r.UF,"")}}var Dc=(()=>{var i,r;let t=class t{constructor(){Nt(this,i,void 0);Nt(this,r,void 0);Ft(this,i,te(cn)),Ft(this,r,te(Pr)),this.poliform=ye(this,r).group({p0:[""],p1:[""]}),this.states=[],this.statesSubject=new xi([]),this.p0=this.poliform.get("p0"),this.p1=this.poliform.get("p1"),this.distance=0,this.magneticHeading=0}ngOnInit(){this.states=this.chunk(Br,10),this.statesSubject.next(this.states),this.filteredStatesOrigin$=this.p0.valueChanges.pipe(ee(""),Vt(1e3),Q(n=>n?this.filterStatesOrigin(n):this.states.flat())),this.filteredStatesDest$=this.p1.valueChanges.pipe(ee(""),Vt(1e3),Q(n=>n?this.filterStatesDest(n):this.states.flat()))}chunk(n,o){let s=[];for(let u=0;u<n.length;u+=o)s.push(n.slice(u,u+o));return s}filterStatesOrigin(n){return console.log(this.states),this.states.flat().filter(o=>o.CodigoOACI.toLowerCase().indexOf(n.toLowerCase())===0)}filterStatesDest(n){return this.states.flat().filter(o=>o.CodigoOACI.toLowerCase().indexOf(n.toLowerCase())===0)}debug(){this.selectedValue0=this.states.flat().find(n=>n.CodigoOACI==this.p0.value),this.selectedValue1=this.states.flat().find(n=>n.CodigoOACI==this.p1.value),this.getDistance(this.selectedValue0.LatGeoPoint,this.selectedValue0.LonGeoPoint,this.selectedValue1.LatGeoPoint,this.selectedValue1.LonGeoPoint)}getDistance(n,o,s,u){let d={latitude:n,longitude:o},l={latitude:s,longitude:u};this.distance=Math.round(ye(this,i).calculateDistance(d,l)/1852),this.magneticHeading=Math.round(ye(this,i).calculateMagneticHeading(d,l))}};i=new WeakMap,r=new WeakMap,t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=Pe({type:t,selectors:[["app-geo"]],standalone:!0,features:[Ae],decls:40,vars:11,consts:[[3,"formGroup"],["for","p0"],[1,"std"],["matInput","","placeholder","SBBR","aria-label","p0","type","text","id","p0","formControlName","p0",3,"matAutocomplete"],["p0data",""],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["for","p1"],["matInput","","placeholder","SBBR","aria-label","p1","type","text","id","p1","formControlName","p1",3,"matAutocomplete"],["p1data",""],["matSuffix","","mat-icon-button","","aria-label","Clear1",3,"click"],["auto1","matAutocomplete"],["mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(o,s){if(o&1){let u=Se();O(0,"section")(1,"h2"),L(2,"Calculo de dist\xE2ncia entre dois Aer\xF3dromos."),C()(),O(3,"section")(4,"form",0)(5,"div")(6,"label",1),L(7,"Origem: "),C(),O(8,"mat-form-field",2),Ht(9,"input",3,4),O(11,"button",5),W("click",function(){ie(u);let d=se(10);return re(d.value="S")}),O(12,"mat-icon"),L(13,"close"),C()(),O(14,"mat-autocomplete",null,6),ae(16,ql,3,4,"mat-option",7),Zt(17,"async"),C()()(),O(18,"div")(19,"label",8),L(20,"Destino: "),O(21,"mat-form-field",2),Ht(22,"input",9,10),O(24,"button",11),W("click",function(){ie(u);let d=se(23);return re(d.value="S")}),O(25,"mat-icon"),L(26,"close"),C()(),O(27,"mat-autocomplete",null,12),ae(29,wl,3,4,"mat-option",7),Zt(30,"async"),C()()()()(),O(31,"button",13),W("click",function(){return s.debug()}),L(32,"Calcular"),C(),O(33,"div")(34,"h3"),L(35,"Resultado"),C(),O(36,"p"),L(37),C(),O(38,"p"),L(39),C()()()}if(o&2){let u=se(15),h=se(28);x(4),N("formGroup",s.poliform),x(5),N("matAutocomplete",u),x(7),N("ngForOf",Jt(17,7,s.filteredStatesOrigin$)),x(6),N("matAutocomplete",h),x(7),N("ngForOf",Jt(30,9,s.filteredStatesDest$)),x(8),$t("Dist\xE2ncia: ",s.distance," Nm"),x(2),$t("Rumo: ",s.magneticHeading," \xB0")}},dependencies:[Ce,Ji,er,Ar,br,vr,gr,yr,Mr,Or,Nr,xr,Er,Rr,Ir,qr,wr,Vr,kr,vn,mn,we,wi,Fr,Sr],styles:["[_nghost-%COMP%]   section[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:25px;text-align:center}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:25px}[_nghost-%COMP%]   .std[_ngcontent-%COMP%]{width:300px}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{text-transform:uppercase}"]});let e=t;return e})();export{Dc as GeoComponent};
